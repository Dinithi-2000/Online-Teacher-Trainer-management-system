<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Management - EduMentor Pro Admin</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/admin-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Source+Sans+Pro:wght@300;400;600;700&family=Merriweather:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body class="admin-body">
    <!-- Admin Header -->
    <header class="admin-header">
        <div class="admin-header-content">
            <div class="admin-brand">
                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle menu">
                    <i class="fas fa-bars"></i>
                </button>
                <i class="fas fa-shield-alt"></i>
                <span class="brand-text">EduMentor Pro</span>
                <span class="admin-badge">Admin</span>
            </div>
            
            <div class="header-search">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search courses..." id="courseSearch">
                </div>
            </div>
            
            <div class="header-actions">
                <button class="notification-btn" title="Notifications">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge">3</span>
                </button>
                
                <div class="admin-profile">
                    <img src="../assets/images/admin-avatar.jpg" alt="Admin" class="admin-avatar">
                    <div class="admin-details">
                        <span class="admin-name">John Admin</span>
                        <span class="admin-role">Super Admin</span>
                    </div>
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
        </div>
    </header>

    <!-- Admin Layout -->
    <div class="admin-layout">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <h3>Main</h3>
                    <ul>
                        <li><a href="index.html" class="nav-link">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a></li>
                        <li><a href="analytics.html" class="nav-link">
                            <i class="fas fa-chart-line"></i>
                            <span>Analytics</span>
                        </a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3>Content Management</h3>
                    <ul>
                        <li><a href="courses.html" class="nav-link active">
                            <i class="fas fa-book"></i>
                            <span>Courses</span>
                            <span class="nav-badge">24</span>
                        </a></li>
                        <li><a href="trainers.html" class="nav-link">
                            <i class="fas fa-chalkboard-teacher"></i>
                            <span>Trainers</span>
                        </a></li>
                        <li><a href="blog.html" class="nav-link">
                            <i class="fas fa-blog"></i>
                            <span>Blog Posts</span>
                        </a></li>
                        <li><a href="resources.html" class="nav-link">
                            <i class="fas fa-file-alt"></i>
                            <span>Resources</span>
                        </a></li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <div class="dashboard-header">
                <div class="header-content">
                    <h1>Course Management</h1>
                    <p>Manage all courses, lessons, and educational content</p>
                </div>
                <div class="header-actions">
                    <button class="btn btn-primary" id="addCourseBtn">
                        <i class="fas fa-plus"></i> Add New Course
                    </button>
                    <button class="btn btn-outline">
                        <i class="fas fa-download"></i> Export Data
                    </button>
                </div>
            </div>

            <!-- Course Statistics -->
            <div class="stats-grid" style="grid-template-columns: repeat(4, 1fr); margin-bottom: 2rem;">
                <div class="stat-card primary">
                    <div class="stat-content">
                        <div class="stat-icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <div class="stat-details">
                            <h3>156</h3>
                            <p>Total Courses</p>
                        </div>
                    </div>
                </div>
                <div class="stat-card success">
                    <div class="stat-content">
                        <div class="stat-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <div class="stat-details">
                            <h3>142</h3>
                            <p>Published</p>
                        </div>
                    </div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-content">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-details">
                            <h3>14</h3>
                            <p>Pending Review</p>
                        </div>
                    </div>
                </div>
                <div class="stat-card info">
                    <div class="stat-content">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-details">
                            <h3>4,521</h3>
                            <p>Total Enrollments</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Course Management Interface -->
            <div class="dashboard-card">
                <div class="card-header">
                    <h3>All Courses</h3>
                    <div class="course-filters">
                        <select class="form-control" id="statusFilter" title="Filter by status">
                            <option value="">All Status</option>
                            <option value="published">Published</option>
                            <option value="draft">Draft</option>
                            <option value="pending">Pending Review</option>
                        </select>
                        <select class="form-control" id="categoryFilter" title="Filter by category">
                            <option value="">All Categories</option>
                            <option value="classroom-management">Classroom Management</option>
                            <option value="curriculum">Curriculum Design</option>
                            <option value="technology">Educational Technology</option>
                            <option value="assessment">Assessment Methods</option>
                        </select>
                    </div>
                </div>
                <div class="card-body">
                    <div class="course-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Course</th>
                                    <th>Category</th>
                                    <th>Instructor</th>
                                    <th>Enrollments</th>
                                    <th>Status</th>
                                    <th>Last Updated</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="courseTableBody">
                                <tr>
                                    <td>
                                        <div class="course-info">
                                            <img src="../assets/images/course-1.jpg" alt="Course" class="course-thumbnail">
                                            <div>
                                                <h4>Advanced Teaching Methods</h4>
                                                <p>Comprehensive guide to modern teaching</p>
                                            </div>
                                        </div>
                                    </td>
                                    <td><span class="category-tag classroom">Classroom Management</span></td>
                                    <td>Dr. Sarah Wilson</td>
                                    <td>485</td>
                                    <td><span class="status-badge published">Published</span></td>
                                    <td>2 hours ago</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn-icon" title="Edit">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn-icon" title="View">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn-icon" title="Duplicate">
                                                <i class="fas fa-copy"></i>
                                            </button>
                                            <button class="btn-icon danger" title="Delete">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="course-info">
                                            <img src="../assets/images/course-2.jpg" alt="Course" class="course-thumbnail">
                                            <div>
                                                <h4>Digital Learning Tools</h4>
                                                <p>Master modern educational technology</p>
                                            </div>
                                        </div>
                                    </td>
                                    <td><span class="category-tag technology">Technology</span></td>
                                    <td>Prof. Mike Johnson</td>
                                    <td>367</td>
                                    <td><span class="status-badge published">Published</span></td>
                                    <td>1 day ago</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn-icon" title="Edit">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn-icon" title="View">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn-icon" title="Duplicate">
                                                <i class="fas fa-copy"></i>
                                            </button>
                                            <button class="btn-icon danger" title="Delete">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="course-info">
                                            <img src="../assets/images/course-3.jpg" alt="Course" class="course-thumbnail">
                                            <div>
                                                <h4>Assessment Strategies</h4>
                                                <p>Effective student evaluation methods</p>
                                            </div>
                                        </div>
                                    </td>
                                    <td><span class="category-tag assessment">Assessment</span></td>
                                    <td>Dr. Emily Chen</td>
                                    <td>298</td>
                                    <td><span class="status-badge pending">Pending Review</span></td>
                                    <td>3 days ago</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn-icon" title="Edit">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn-icon" title="View">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn-icon success" title="Approve">
                                                <i class="fas fa-check"></i>
                                            </button>
                                            <button class="btn-icon danger" title="Reject">
                                                <i class="fas fa-times"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Pagination -->
                    <div class="pagination-container">
                        <div class="pagination-info">
                            Showing 1-3 of 156 courses
                        </div>
                        <div class="pagination">
                            <button class="pagination-btn" disabled>
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button class="pagination-btn active">1</button>
                            <button class="pagination-btn">2</button>
                            <button class="pagination-btn">3</button>
                            <button class="pagination-btn">...</button>
                            <button class="pagination-btn">52</button>
                            <button class="pagination-btn">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Add Course Modal -->
    <div class="modal" id="addCourseModal" aria-hidden="true">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Add New Course</h3>
                <button type="button" class="modal-close" aria-label="Close modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form class="modal-body" id="addCourseForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="courseTitle" class="form-label">Course Title *</label>
                        <input type="text" id="courseTitle" name="title" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="courseCategory" class="form-label">Category *</label>
                        <select id="courseCategory" name="category" class="form-control" required>
                            <option value="">Select Category</option>
                            <option value="classroom-management">Classroom Management</option>
                            <option value="curriculum">Curriculum Design</option>
                            <option value="technology">Educational Technology</option>
                            <option value="assessment">Assessment Methods</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="courseInstructor" class="form-label">Instructor *</label>
                        <select id="courseInstructor" name="instructor" class="form-control" required>
                            <option value="">Select Instructor</option>
                            <option value="1">Dr. Sarah Wilson</option>
                            <option value="2">Prof. Mike Johnson</option>
                            <option value="3">Dr. Emily Chen</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="coursePrice" class="form-label">Price ($)</label>
                        <input type="number" id="coursePrice" name="price" class="form-control" min="0" step="0.01">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="courseDescription" class="form-label">Description *</label>
                    <textarea id="courseDescription" name="description" class="form-control" rows="4" required></textarea>
                </div>
                
                <div class="form-group">
                    <label for="courseThumbnail" class="form-label">Course Thumbnail</label>
                    <input type="file" id="courseThumbnail" name="thumbnail" class="form-control" accept="image/*">
                </div>
            </form>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline" data-dismiss="modal">Cancel</button>
                <button type="submit" form="addCourseForm" class="btn btn-primary">Create Course</button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="../assets/js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            setupCourseManagement();
        });

        function setupCourseManagement() {
            // Add course button
            document.getElementById('addCourseBtn').addEventListener('click', function() {
                document.getElementById('addCourseModal').classList.add('active');
                document.getElementById('addCourseModal').setAttribute('aria-hidden', 'false');
            });

            // Close modal
            document.querySelector('.modal-close').addEventListener('click', function() {
                document.getElementById('addCourseModal').classList.remove('active');
                document.getElementById('addCourseModal').setAttribute('aria-hidden', 'true');
            });

            // Filter functionality
            setupFilters();
            
            // Table actions
            setupTableActions();
            
            // Form submission
            setupFormSubmission();
        }

        function setupFilters() {
            const statusFilter = document.getElementById('statusFilter');
            const categoryFilter = document.getElementById('categoryFilter');
            
            [statusFilter, categoryFilter].forEach(filter => {
                filter.addEventListener('change', function() {
                    filterCourses();
                });
            });
        }

        function filterCourses() {
            const status = document.getElementById('statusFilter').value;
            const category = document.getElementById('categoryFilter').value;
            
            // Filter table rows based on selected criteria
            const rows = document.querySelectorAll('#courseTableBody tr');
            rows.forEach(row => {
                let showRow = true;
                
                if (status) {
                    const statusBadge = row.querySelector('.status-badge');
                    if (!statusBadge.classList.contains(status)) {
                        showRow = false;
                    }
                }
                
                if (category) {
                    const categoryTag = row.querySelector('.category-tag');
                    if (!categoryTag.classList.contains(category.replace('-', ''))) {
                        showRow = false;
                    }
                }
                
                row.style.display = showRow ? '' : 'none';
            });
        }

        function setupTableActions() {
            // Edit buttons
            document.querySelectorAll('.btn-icon').forEach(btn => {
                btn.addEventListener('click', function() {
                    const action = this.title.toLowerCase();
                    const row = this.closest('tr');
                    const courseTitle = row.querySelector('h4').textContent;
                    
                    handleCourseAction(action, courseTitle, row);
                });
            });
        }

        function handleCourseAction(action, courseTitle, row) {
            switch(action) {
                case 'edit':
                    editCourse(courseTitle);
                    break;
                case 'view':
                    viewCourse(courseTitle);
                    break;
                case 'duplicate':
                    duplicateCourse(courseTitle);
                    break;
                case 'delete':
                    if (confirm(`Are you sure you want to delete "${courseTitle}"?`)) {
                        deleteCourse(courseTitle, row);
                    }
                    break;
                case 'approve':
                    approveCourse(courseTitle, row);
                    break;
                case 'reject':
                    if (confirm(`Are you sure you want to reject "${courseTitle}"?`)) {
                        rejectCourse(courseTitle, row);
                    }
                    break;
            }
        }

        function editCourse(title) {
            console.log(`Editing course: ${title}`);
            // Redirect to edit page or open edit modal
        }

        function viewCourse(title) {
            console.log(`Viewing course: ${title}`);
            // Open course preview
        }

        function duplicateCourse(title) {
            console.log(`Duplicating course: ${title}`);
            // Create duplicate
        }

        function deleteCourse(title, row) {
            console.log(`Deleting course: ${title}`);
            row.remove();
            // Send delete request to server
        }

        function approveCourse(title, row) {
            console.log(`Approving course: ${title}`);
            const statusBadge = row.querySelector('.status-badge');
            statusBadge.textContent = 'Published';
            statusBadge.className = 'status-badge published';
        }

        function rejectCourse(title, row) {
            console.log(`Rejecting course: ${title}`);
            const statusBadge = row.querySelector('.status-badge');
            statusBadge.textContent = 'Rejected';
            statusBadge.className = 'status-badge danger';
        }

        function setupFormSubmission() {
            document.getElementById('addCourseForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const formData = new FormData(this);
                const courseData = {
                    title: formData.get('title'),
                    category: formData.get('category'),
                    instructor: formData.get('instructor'),
                    price: formData.get('price'),
                    description: formData.get('description')
                };
                
                createCourse(courseData);
            });
        }

        function createCourse(courseData) {
            console.log('Creating course:', courseData);
            
            // Simulate successful creation
            setTimeout(() => {
                alert('Course created successfully!');
                document.querySelector('.modal-close').click();
                document.getElementById('addCourseForm').reset();
                
                // Add new row to table
                addCourseToTable(courseData);
            }, 1000);
        }

        function addCourseToTable(courseData) {
            const tbody = document.getElementById('courseTableBody');
            const row = document.createElement('tr');
            
            row.innerHTML = `
                <td>
                    <div class="course-info">
                        <img src="../assets/images/course-default.jpg" alt="Course" class="course-thumbnail">
                        <div>
                            <h4>${courseData.title}</h4>
                            <p>${courseData.description}</p>
                        </div>
                    </div>
                </td>
                <td><span class="category-tag">${courseData.category}</span></td>
                <td>${courseData.instructor}</td>
                <td>0</td>
                <td><span class="status-badge draft">Draft</span></td>
                <td>Just now</td>
                <td>
                    <div class="action-buttons">
                        <button class="btn-icon" title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn-icon" title="View">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn-icon" title="Duplicate">
                            <i class="fas fa-copy"></i>
                        </button>
                        <button class="btn-icon danger" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </td>
            `;
            
            tbody.prepend(row);
            setupTableActions(); // Re-setup event listeners for new row
        }
    </script>
</body>
</html>
